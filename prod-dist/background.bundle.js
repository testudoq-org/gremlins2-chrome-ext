chrome.runtime.onInstalled.addListener((function(){chrome.contextMenus.create({id:"launch-gremlins",title:"Launch Full Gremlin Horde",contexts:["all"]}),chrome.contextMenus.create({id:"stop-gremlins",title:"Stop Gremlins",contexts:["all"]})})),chrome.contextMenus.onClicked.addListener((function(e,n){switch(e.menuItemId){case"launch-gremlins":chrome.tabs.sendMessage(n.id,{command:"startGremlins",attackDuration:15});break;case"open-popup":chrome.windows.create({url:chrome.runtime.getURL("popup.html"),type:"popup",width:181.6,height:686.8,focused:!0});break;case"stop-gremlins":chrome.tabs.sendMessage(n.id,{command:"stopGremlins"});break;default:console.error("Unknown menu item clicked:",e.menuItemId)}})),chrome.runtime.onMessage.addListener((function(e,n,t){"reloadExtension"===e.command&&chrome.runtime.reload(),"updateToggleButtonText"===e.command&&chrome.tabs.query({active:!0,currentWindow:!0},(function(n){n.length>0&&chrome.tabs.sendMessage(n[0].id,e)}))}));