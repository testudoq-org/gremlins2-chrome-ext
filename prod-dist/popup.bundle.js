(()=>{"use strict";var e=!1,t=[];function toggleGremlins(){e?function stopGremlins(){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){if(0!==t.length){var n=t[0];chrome.tabs.sendMessage(n.id,{command:"stopGremlins"},(function(t){chrome.runtime.lastError?console.warn(chrome.runtime.lastError.message):(console.log("Gremlins stopped:",t),e=!1,updateButtonText())}))}else console.warn("No active tabs found")}))}():function launchGremlins(){var t=document.getElementById("attackDuration"),n=t?parseInt(t.value,10):15;chrome.tabs.query({active:!0,currentWindow:!0},(function(t){if(0!==t.length){var o=t[0];chrome.scripting.executeScript({target:{tabId:o.id},files:["content.bundle.js"]},(function(){chrome.runtime.lastError?console.error("Script injection failed: ",chrome.runtime.lastError.message):chrome.tabs.sendMessage(o.id,{command:"startGremlins",attackDuration:n},(function(t){chrome.runtime.lastError?console.warn(chrome.runtime.lastError.message):(console.log("Gremlins started:",t),e=!0,updateButtonText())}))}))}else console.error("No active tabs found")}))}()}function updateButtonText(){var t=document.getElementById("gremlinsButton");t?t.textContent=e?"Stop Gremlins":"Start Gremlins":console.error("Gremlins button not found.")}function exportLogs(){var e=t.map((function(e){return"[".concat(e.type.toUpperCase(),"] ").concat(e.message)})).join("\n"),n=new Blob([e],{type:"text/plain"}),o=URL.createObjectURL(n),r=document.createElement("a");r.href=o,r.download="gremlins-log.txt",document.body.appendChild(r),r.click(),document.body.removeChild(r)}["log","warn","error"].forEach((function(e){var n=console[e];console[e]=function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];t.push({type:e,message:r.join(" ")}),n.apply(console,r)}})),document.addEventListener("DOMContentLoaded",(function(){!function reloadActiveTab(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){e.length>0?chrome.tabs.reload(e[0].id):console.error("No active tabs found.")}))}();var t=document.getElementById("attackDuration");t?t.value="15":console.error("Attack duration element not found.");var n=document.getElementById("gremlinsButton");n?n.addEventListener("click",toggleGremlins):console.error("Gremlins button not found.");var o=document.getElementById("exportLogsButton");o?o.addEventListener("click",exportLogs):console.error("Export Logs button not found."),updateButtonText(),chrome.runtime.onMessage.addListener((function(t,n,o){"updateToggleButtonText"===t.command&&(e=t.attacking,updateButtonText())}))})),chrome.runtime.onMessage.addListener((function(t,n,o){"updateToggleButtonText"===t.command&&(e=t.attacking,updateButtonText())}))})();